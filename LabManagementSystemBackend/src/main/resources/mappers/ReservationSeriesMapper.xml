<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.labmanagementsystembackend.mapper.ReservationSeriesMapper">

    <resultMap id="SeriesMap" type="com.example.labmanagementsystembackend.domain.entity.ReservationSeries">
        <id column="id" property="id" />
        <result column="requester_id" property="requesterId" />
        <result column="rule_type" property="ruleType" />
        <result column="rule_value" property="ruleValue" />
        <result column="mode" property="mode" />
        <result column="is_deleted" property="isDeleted" />
        <result column="created_at" property="createdAt" />
        <result column="updated_at" property="updatedAt" />
    </resultMap>

    <select id="findById" resultMap="SeriesMap">
        SELECT * FROM reservation_series WHERE id = #{id} AND is_deleted = 0
    </select>

    <insert id="insertSeries" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO reservation_series (requester_id, rule_type, rule_value, mode, is_deleted)
        VALUES (#{requesterId}, #{ruleType}, #{ruleValue}, #{mode}, #{isDeleted})
    </insert>
</mapper>
